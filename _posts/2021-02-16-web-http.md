---
title: "Http/2"
date: 2021-02-16
comments: true
read_time: false
categories:
  - Web
tags:
  - http
---

HTTP/1.1을 사용할 때에는 멀티플렉싱 같은 기술이 지원되지 않았기 때문에 도메인 분할 기법 등의 기술이 필요하였다.  
하지만 HTTP/2의 경우는 멀티플렉싱 등의 기술이 사용되며 웹의 최적화를 위해 도메인 분할 기법 등을 사용할 이유가 사라지게 되었다.  
HTTP/2 사용 시 웹 최적화를 위해 고려할 사항에 대해 간단히 정리해보려 한다.

## 동일 IP 사용

설령 요청하는 도메인이 다르더라도 요청 전 DNS를 조회할 때 동일 IP로 반환될 경우 기존에 요청된 TCP 연결을 재사용 된다.

## 동일한 인증서 사용

인증서의 경우 보통 도메인으로 발급이 되므로 1항과 같이 IP가 같더라도 도메인에 대한 인증서가 다를 경우 다시 TLS 협상을 시도하게 되고 새로운 TCP 연결이 생성되게 된다.  
이에 와일드 카드(\*.test.co.kr) 인증서나 SAN 인증서(멀티 도메인, 와일드 카드 미지원)를 사용하면 좋다.
