---
title: "Diary - 삽질 - Redirect"
date: 2021-06-01
comments: true
read_time: false
toc: false
categories:
  - Diary
tags:
  - error
  - redirect
---

어느새 6월... 출근길이 점점 힘들어지고 있다. 😓  
오늘도 어김없이 삽질한 내용을 남긴다.

## Nginx redriect

개발환경을 새로 만들 일이 있었다. 웹서버로 `Nginx`를 사용하고 있으며 80 포트에 대한 요청은 443 포트로 리다이렉트 하도록 설정이 되어 있다.

여기서 문제는 내가 저렇게 설정을 해놓고 `Postman` 에 프로토콜을 `http` 로 작성하여 보냈다는 것이다.

나는 분명히 Post Method 로 요청을 보내는데 405 에러를 계속 받았다. Get Method로 BE에서 요청이 들어오는 것이 였다. 근데 로컬에서는 정상 동작을 하는데 개발환경에서만 저런 문제가 발생하는 것이다. 처음에는 환경변수 문제인가 혹은 BE 에서 필터의 문제인가 잘못된 부분에서 문제를 찾으려고 삽질을 하였다. 1시간은 날린거 같다. 😭

해답은 첫 문장 그대로이다. `Nginx` 에서 `http` 가 `https` 로 `리다이렉트` 되면서 Post 방식이 Get 방식으로 변환된 것이다. 이러니 당연히 될리가 있나... ㅎㅎㅎㅎㅎ  
Get 방식을 제외한 다른 종류의 방식이 다 Get로 변환되고 있던 것이다.
